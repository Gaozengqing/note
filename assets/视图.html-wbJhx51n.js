import{_ as s,o as n,c as a,d as e}from"./app-jFZM-UYu.js";const t={},o=e(`<h1 id="视图" tabindex="-1"><a class="header-anchor" href="#视图" aria-hidden="true">#</a> 视图</h1><p>定义： 视图是一种<strong>虚拟存在</strong>的表，视图的数据来源于数据库中的数据表，这些数据表被称为<strong>基本表</strong>。 通过视图不仅可以看到基本表中的数据，还可以对基本表中的数据进行<strong>添加</strong>、<strong>修改</strong>和<strong>删除</strong>。 数据库中只保存<strong>定义视图的SQL语句</strong>，不保存视图对应的数据。 当<strong>基本表</strong>中的<strong>数据</strong>发生<strong>变化</strong>时，<strong>视图</strong>中查询出来的<strong>数据也</strong>会随之<strong>改变</strong>，当通过<strong>视图修改数据</strong>时，<strong>基本表</strong>中的<strong>数据也</strong>会发生<strong>变化</strong>。</p><p>优点：不仅可以简化用户对数据的理解，还可以简化对数据的操作等等。</p><h2 id="基于单表的视图" tabindex="-1"><a class="header-anchor" href="#基于单表的视图" aria-hidden="true">#</a> 基于单表的视图</h2><h3 id="创建" tabindex="-1"><a class="header-anchor" href="#创建" aria-hidden="true">#</a> 创建</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>
<span class="token keyword">CREATE</span> <span class="token punctuation">[</span><span class="token operator">OR</span> <span class="token keyword">REPLACE</span><span class="token punctuation">]</span> 
<span class="token punctuation">[</span><span class="token keyword">ALGORITHM</span> <span class="token operator">=</span> {<span class="token keyword">MERGE</span> <span class="token operator">|</span> <span class="token keyword">TEMPTABLE</span> <span class="token operator">|</span> <span class="token keyword">UNDEFINED</span>}<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">DEFINER</span> <span class="token operator">=</span> <span class="token keyword">user</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">SQL</span> SECURITY { <span class="token keyword">DEFINER</span> <span class="token operator">|</span> <span class="token keyword">INVOKER</span> }<span class="token punctuation">]</span>
<span class="token keyword">VIEW</span> 视图名 <span class="token punctuation">[</span><span class="token punctuation">(</span>字段列表<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">AS</span> select_statement<span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token keyword">WITH</span> <span class="token punctuation">[</span><span class="token keyword">CASCADED</span> <span class="token operator">|</span> <span class="token keyword">LOCAL</span><span class="token punctuation">]</span> <span class="token keyword">CHECK</span> <span class="token keyword">OPTION</span><span class="token punctuation">]</span><span class="token punctuation">;</span>


<span class="token comment">-- OR REPLACE：可选，若数据库中已存在这个名称的视图就替换原有视图，若不存在则创建视图。</span>
<span class="token comment">-- ALGORITHM子句：用于声明MySQL处理视图的方式，MERGE表示将引用视图的语句和定义视图的语句合并，TEMPTABLE表示将视图的结果保存到临时表，UNDEFINED表示未指定处理方式（默认使用MERGE）。</span>
<span class="token comment">-- DEFINER子句和SQL SECURITY子句：用于声明执行视图时的访问权限，DEFINER子句中的user值通常为“&#39;用户名&#39;@&#39;主机地址&#39;”、CURRENT_USER或CURRENT_USER()，如果省略DEFINER子句，默认执行者为创建视图的用户。</span>
<span class="token comment">-- 视图名：表示要创建的视图名称，该名称在数据库中必须是唯一的，不能与其他数据表或视图同名。</span>
<span class="token comment">-- select_statement：指一个完整的SELECT语句，表示从某个数据表或视图中查出满足条件的记录，将这些记录导入视图中。</span>
<span class="token comment">-- WITH CHECK OPTION：可选，用于视图数据操作时的检查条件，若省略，则不进行检查，它的取值有CASCADED（默认），操作数据时满足所有有关视图和表定义的条件；LOCAL，操作数据时只需要满足该视图本身定义的条件。</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="基于多表的视图" tabindex="-1"><a class="header-anchor" href="#基于多表的视图" aria-hidden="true">#</a> 基于多表的视图</h2><h3 id="创建-1" tabindex="-1"><a class="header-anchor" href="#创建-1" aria-hidden="true">#</a> 创建</h3><p>基于两张或者两张以上的数据表创建视图，这种视图被称为基于多表的视图。创建基于多表的视图时，只需要将CREATE VIEW语句中的SELECT语句指定为多表查询的SQL语句即可。</p><h2 id="查看视图" tabindex="-1"><a class="header-anchor" href="#查看视图" aria-hidden="true">#</a> 查看视图</h2><p>为了充分了解某个视图的信息，需要查看视图的字段、状态、创建语句</p><h3 id="查看视图的字段信息" tabindex="-1"><a class="header-anchor" href="#查看视图的字段信息" aria-hidden="true">#</a> 查看视图的字段信息</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DESCRIBE</span> 视图名<span class="token punctuation">;</span>
<span class="token comment">-- 简写</span>
<span class="token keyword">DESC</span> 视图名<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看视图的状态信息" tabindex="-1"><a class="header-anchor" href="#查看视图的状态信息" aria-hidden="true">#</a> 查看视图的状态信息</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">TABLE</span> <span class="token keyword">STATUS</span> <span class="token operator">LIKE</span> <span class="token string">&#39;视图名&#39;</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看视图的创建语句" tabindex="-1"><a class="header-anchor" href="#查看视图的创建语句" aria-hidden="true">#</a> 查看视图的创建语句</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> 视图名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="修改视图" tabindex="-1"><a class="header-anchor" href="#修改视图" aria-hidden="true">#</a> 修改视图</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 方式一</span>
<span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">VIEW</span> 视图名 <span class="token keyword">AS</span> <span class="token keyword">SELECT</span>语句<span class="token punctuation">;</span>
<span class="token comment">-- 方式二</span>
<span class="token keyword">ALTER</span> <span class="token keyword">VIEW</span> 视图名 <span class="token keyword">AS</span> <span class="token keyword">SELECT</span>语句<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="通过视图来操作数据" tabindex="-1"><a class="header-anchor" href="#通过视图来操作数据" aria-hidden="true">#</a> 通过视图来操作数据</h2><p>通过视图操作基本表的方式与直接操作数据表的方式一样(insert,update,delete) eg:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> 视图名 <span class="token keyword">value</span><span class="token punctuation">(</span>xx<span class="token punctuation">,</span>xx<span class="token punctuation">,</span>xx<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="删除视图" tabindex="-1"><a class="header-anchor" href="#删除视图" aria-hidden="true">#</a> 删除视图</h2><p>删除视图时只会删除所创建的视图，不会删除基本表中的数据。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> 视图名<span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> 视图名<span class="token number">2</span><span class="token punctuation">,</span> …<span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,25),p=[o];function l(c,i){return n(),a("div",null,p)}const r=s(t,[["render",l],["__file","视图.html.vue"]]);export{r as default};
